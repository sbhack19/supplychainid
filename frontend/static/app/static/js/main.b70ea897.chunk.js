(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/supply_chain.0e93f837.png"},function(e,t,a){e.exports=a.p+"static/media/manufacturer.484503a2.jpg"},function(e,t,a){e.exports=a.p+"static/media/weed.48829605.jpg"},function(e,t,a){e.exports=a.p+"static/media/retailer.eabd6c1f.jpg"},function(e,t,a){e.exports=a.p+"static/media/raw-oil.f88b7dbf.jpg"},function(e,t,a){e.exports=a.p+"static/media/store.2b544231.jpg"},function(e,t,a){e.exports=a.p+"static/media/bottle.8f90c5a2.jpg"},function(e,t,a){e.exports=a.p+"static/media/transportation.c21a6e7a.jpg"},function(e,t,a){e.exports=a.p+"static/media/pallet.44d37dd6.jpg"},function(e,t,a){e.exports=a(24)},,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(7),s=a.n(i),r=a(1),o=a(2),l=a(4),m=a(3),d=a(5),u=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("header",{className:"app-header"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h1",null,"CBD.ID")))))}}]),t}(n.Component),p=a(8),h=a.n(p),g=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("section",{className:"noparty-section"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 welcome-container"},c.a.createElement("h2",null,"Welcome to the future"),c.a.createElement("img",{src:h.a,alt:"Supply Chain"}),c.a.createElement("h2",null,"of CBD Supply Chain")))))}}]),t}(n.Component),v=a(9),b=a.n(v),E=a(10),f=a.n(E),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={packing:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.packing,a=this.props.goods,n=this.props.parties,i=this.props.activeParty,s=this.props.sscc,r=this.props.destination;return c.a.createElement("section",{className:"manufacturer-section"},c.a.createElement("div",{className:"imageBackground",style:{backgroundImage:"url("+b.a+")"}},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h1",null,"Goods"))))),c.a.createElement("div",{className:"container data-container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},a&&a.length?c.a.createElement("ul",null,a.map(function(a,n){return c.a.createElement("li",{key:n,className:"cbd-element"},c.a.createElement("img",{src:f.a,alt:"CBD plant"}),c.a.createElement("div",{className:"cbd-data"},c.a.createElement("h5",null,a.gtin),t&&c.a.createElement("select",{onChange:e.props.handleChangeSscc.bind(e,a),value:a.sscc},c.a.createElement("option",{value:"",disabled:!0},"SSCC"),s.map(function(e,t){return c.a.createElement("option",{key:t,value:e},e)}))))})):c.a.createElement("h4",null,"No goods available")),c.a.createElement("div",{className:"col-12"},c.a.createElement("button",{onClick:function(){return e.setState({packing:!t})}},"Packing")),t&&c.a.createElement("div",{className:"col-12"},c.a.createElement("h4",null,"Destination"),c.a.createElement("select",{onChange:this.props.handleChangeDestination,value:r},c.a.createElement("option",{value:"",disabled:!0},"Destination"),n.map(function(e,t){return!(!e.location||e.name===i)&&c.a.createElement("option",{key:t,value:e.location},e.name)})),c.a.createElement("button",{className:"ready-btn",onClick:this.props.handleChangeReady.bind(this,"manufacturer","readyToShip")},"Ready")))))}}]),t}(n.Component),C=a(11),N=a.n(C),k=a(12),O=a.n(k),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={packing:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.packing,a=this.props.goods,n=this.props.parties,i=this.props.activeParty,s=this.props.sscc,r=this.props.status,o=this.props.destination;return c.a.createElement("section",{className:"retailer-Section"},c.a.createElement("div",{className:"imageBackground",style:{backgroundImage:"url("+N.a+")"}},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h1",null,"Goods"))))),c.a.createElement("div",{className:"container data-container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},a&&a.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",null,a.map(function(a,n){return c.a.createElement("li",{key:n,className:"cbd-element"},c.a.createElement("img",{src:O.a,alt:"CBD raw oil"}),c.a.createElement("div",{className:"cbd-data"},c.a.createElement("h5",null,a.gtin),t&&c.a.createElement("select",{onChange:e.props.handleChangeSscc.bind(e,a),value:a.sscc},c.a.createElement("option",{value:"",disabled:!0},"SSCC"),s.map(function(e,t){return c.a.createElement("option",{key:t,value:e},e)}))))})),"readyToDeliver"===r?c.a.createElement("button",{onClick:this.props.handlePartyConfirmation},"Confirm"):c.a.createElement("button",{onClick:function(){return e.setState({packing:!t})}},"Packing")):c.a.createElement("h4",null,"No goods available")),t&&c.a.createElement("div",{className:"col-12"},c.a.createElement("h4",null,"Destination"),c.a.createElement("select",{onChange:this.props.handleChangeDestination,value:o},c.a.createElement("option",{value:"",disabled:!0},"Destination"),n.map(function(e,t){return!(!e.location||e.name===i)&&c.a.createElement("option",{key:t,value:e.location},e.name)})),c.a.createElement("button",{className:"ready-btn",onClick:this.props.handleChangeReady.bind(this,"manufacturer","readyToShip")},"Ready")))))}}]),t}(n.Component),j=a(13),w=a.n(j),T=a(14),D=a.n(T),P=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={packing:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.packing,a=this.props.goods,n=this.props.parties,i=this.props.activeParty,s=this.props.sscc,r=this.props.status,o=this.props.destination;return c.a.createElement("section",{className:"store-Section"},c.a.createElement("div",{className:"imageBackground",style:{backgroundImage:"url("+w.a+")"}},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h1",null,"Goods"))))),c.a.createElement("div",{className:"container data-container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},a&&a.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",null,a.map(function(a,n){return c.a.createElement("li",{key:n,className:"cbd-element"},c.a.createElement("img",{src:D.a,alt:"CBD oil"}),c.a.createElement("div",{className:"cbd-data"},c.a.createElement("h5",null,a.gtin),t&&c.a.createElement("select",{onChange:e.props.handleChangeSscc.bind(e,a),value:a.sscc},c.a.createElement("option",{value:"",disabled:!0},"SSCC"),s.map(function(e,t){return c.a.createElement("option",{key:t,value:e},e)}))))})),"readyToDeliver"===r?c.a.createElement("button",{onClick:this.props.handlePartyConfirmation},"Confirm"):c.a.createElement(c.a.Fragment,null)):c.a.createElement("h4",null,"No goods available")),t&&c.a.createElement("div",{className:"col-12"},c.a.createElement("h4",null,"Destination"),c.a.createElement("select",{onChange:this.props.handleChangeDestination,value:o},c.a.createElement("option",{value:"",disabled:!0},"Destination"),n.map(function(e,t){return!(!e.location||e.name===i)&&c.a.createElement("option",{key:t,value:e.location},e.name)})),c.a.createElement("button",{onClick:this.props.handleChangeReady.bind(this,"manufacturer","readyToShip")},"Ready")))))}}]),t}(n.Component),R=a(15),B=a.n(R),z=a(16),L=a.n(z),x=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.goods,t=this.props.status;return c.a.createElement("section",{className:"transportation-section"},c.a.createElement("div",{className:"imageBackground",style:{backgroundImage:"url("+B.a+")"}},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h1",null,"Goods to transport"))))),c.a.createElement("div",{className:"container data-container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},"readyToShip"===t||"inRoute"===t||"readyToDeliver"===t?c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",null,e.map(function(e,t){return c.a.createElement("li",{key:t,className:"cbd-element"},c.a.createElement("img",{src:L.a,alt:"CBD raw oil"}),c.a.createElement("div",{className:"cbd-data"},c.a.createElement("h5",null,e.gtin)))})),"readyToShip"===t?c.a.createElement("button",{onClick:this.props.handleTransportConfirmation},"Confirm"):c.a.createElement("button",{onClick:this.props.handleChangeReady.bind(this,"transportation","readyToDeliver")},"Ready to Deliver")):c.a.createElement("h4",null,"Nothing to transport")))))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleChangeParty=function(e){a.setState({activeParty:e})},a.handleChangeDestination=function(e){a.setState({destination:e.target.value})},a.handleChangeSscc=function(e,t){var n=t.target.value;a.setState(function(t){return{goods:t.goods.map(function(t,a){return e.gtin===t.gtin?Object.assign(t,{sscc:n}):t})}})},a.handleChangeReady=function(e,t){"readyToDeliver"===t&&a.setState(function(e){return{goods:e.goods.map(function(e,t){return e.sscc&&!e.where?Object.assign(e,{where:a.state.destination}):e})}},function(){console.log(t,"Ready to deliver"),a.saveToBlockchain(a.epcListData(),a.goodsPerSscc()[0].where,t)}),a.setState({status:t},function(){console.log(t,"Ready to send! - Saved in "+e+" Blockchain"),a.saveToBlockchain(a.epcListData(),a.goodsPerSscc()[0].where,t)})},a.handleTransportConfirmation=function(){a.setState(function(e){return{goods:e.goods.map(function(e,t){return e.sscc?Object.assign(e,{where:""}):e})}},function(){console.log("Transportation accepted - Save in Consortium Blockchain"),a.saveToBlockchain(a.epcListData(),"inMovement","onRoute"),a.setState({status:"inRoute"})})},a.handlePartyConfirmation=function(){console.log("Party accepted! - Save in Consortium Blockchain"),a.saveToBlockchain(a.epcListData(),a.state.destination,"outbound"),a.setState(function(e){return{goods:e.goods.map(function(e,t){return e.sscc&&e.where?Object.assign(e,{sscc:""}):e})}},function(){a.setState({status:"",destination:""})})},a.saveToBlockchain=function(e,t,a){fetch("http://team18.supply-chain-id.sbhack.io/recordevent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mnemonic:"wheat divide clerk blast avoid retire avoid hammer current drastic deputy tent",payload:{isA:"ObjectEvent",eventTime:new Date,eventTimeZoneOffset:"+01:00",epcList:e,readPoint:t,action:"OBSERVE",bizStep:"urn:epcglobal:cbv:bizstep:"+a,disposition:"",bizTransactionList:[]}})})},a.epcListData=function(){var e=[];return a.goodsPerSscc().forEach(function(t){t.sscc&&e.push("urn:epc:id:"+t.gtin)}),e},a.goodsPerLocation=function(e){return a.state.goods.filter(function(t){return t.where===e})},a.goodsPerSscc=function(){return a.state.goods.filter(function(e){return"sscc:40001356.5900000001"===e.sscc||"sscc:40001356.5900000002"===e.sscc||"sscc:40001356.5900000003"===e.sscc||"sscc:40001356.5900000004"===e.sscc})},a.state={parties:[{name:"Manufacturer",location:"sgln:4012345.01001.0"},{name:"Retailer",location:"sgln:4012345.01002.0"},{name:"Store",location:"sgln:4012345.01003.0"},{name:"Transportation",location:""}],activeParty:"",sscc:["sscc:40001356.5900000001","sscc:40001356.5900000002","sscc:40001356.5900000003","sscc:40001356.5900000004"],goods:[{gtin:"sgtin:4026800.10001.101",sscc:"",where:"sgln:4012345.01001.0"},{gtin:"sgtin:4026800.10001.102",sscc:"",where:"sgln:4012345.01001.0"},{gtin:"sgtin:4026800.10001.103",sscc:"",where:"sgln:4012345.01001.0"},{gtin:"sgtin:4026800.10001.104",sscc:"",where:"sgln:4012345.01001.0"},{gtin:"sgtin:4026800.10001.105",sscc:"",where:"sgln:4012345.01001.0"},{gtin:"sgtin:4026800.10002.101",sscc:"",where:"sgln:4012345.01001.0"},{gtin:"sgtin:4026800.10002.102",sscc:"",where:"sgln:4012345.01001.0"},{gtin:"sgtin:4026800.10002.103",sscc:"",where:"sgln:4012345.01001.0"},{gtin:"sgtin:4026800.10002.104",sscc:"",where:"sgln:4012345.01001.0"},{gtin:"sgtin:4026800.10002.105",sscc:"",where:"sgln:4012345.01001.0"}],destination:"",status:"",log:[{isA:"ObjectEvent",eventTime:"2005-04-03T20:33:31.116-06:00",eventTimeZoneOffset:"-06:00",epcList:["urn:epc:id:sgtin:0614141.107346.2017","urn:epc:id:sgtin:0614141.107346.2018"],action:"OBSERVE",bizStep:"urn:epcglobal:cbv:bizstep:packing",disposition:"urn:epcglobal:cbv:disp:in_transit",readPoint:"urn:epc:id:sgln:0614141.07346.1234",bizTransactionList:[{type:"urn:epcglobal:cbv:btt:po",bizTransaction:"http://transaction.acme.com/po/12345678"}]},{isA:"ObjectEvent",eventTime:"2010-04-03T20:33:31.116-06:00",eventTimeZoneOffset:"-06:00",epcList:["urn:epc:id:sgtin:0614141.107346.2019","urn:epc:id:sgtin:0614141.107346.2020"],action:"OBSERVE",bizStep:"urn:epcglobal:cbv:bizstep:loading",disposition:"urn:epcglobal:cbv:disp:in_transit",readPoint:"urn:epc:id:sgln:0614141.07346.1234",bizTransactionList:[{type:"urn:epcglobal:cbv:btt:po",bizTransaction:"http://transaction.acme.com/po/12345678"}]},{isA:"ObjectEvent",eventTime:"2015-04-03T20:33:31.116-06:00",eventTimeZoneOffset:"-06:00",epcList:["urn:epc:id:sgtin:0614141.107346.2021","urn:epc:id:sgtin:0614141.107346.2022"],action:"OBSERVE",bizStep:"urn:epcglobal:cbv:bizstep:shipping",disposition:"urn:epcglobal:cbv:disp:in_transit",readPoint:"urn:epc:id:sgln:0614141.07346.1234",bizTransactionList:[{type:"urn:epcglobal:cbv:btt:po",bizTransaction:"http://transaction.acme.com/po/12345678"}]},{isA:"ObjectEvent",eventTime:"2020-04-03T20:33:31.116-06:00",eventTimeZoneOffset:"-06:00",epcList:["urn:epc:id:sgtin:0614141.107346.2023","urn:epc:id:sgtin:0614141.107346.2024"],action:"OBSERVE",bizStep:"urn:epcglobal:cbv:bizstep:unpacking",disposition:"urn:epcglobal:cbv:disp:in_transit",readPoint:"urn:epc:id:sgln:0614141.07346.1234",bizTransactionList:[{type:"urn:epcglobal:cbv:btt:po",bizTransaction:"http://transaction.acme.com/po/12345678"}]}]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.parties,n=t.activeParty,i=t.sscc,s=t.destination,r=t.status;return c.a.createElement("div",{className:"app-main"},c.a.createElement("section",{className:"parties-selection"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("ul",null,a.map(function(t,a){var i=t.name===n;return c.a.createElement("li",{key:a,className:i?"active":"",onClick:e.handleChangeParty.bind(e,t.name)},t.name)})))))),c.a.createElement("section",{className:"parties-actions"},function(){switch(n){case"Manufacturer":return c.a.createElement(y,{goods:e.goodsPerLocation("sgln:4012345.01001.0"),parties:a,activeParty:n,sscc:i,destination:s,handleChangeSscc:e.handleChangeSscc,handleChangeDestination:e.handleChangeDestination,handleChangeReady:e.handleChangeReady});case"Retailer":return c.a.createElement(S,{goods:e.goodsPerLocation("sgln:4012345.01002.0"),parties:a,activeParty:n,sscc:i,destination:s,status:r,handlePartyConfirmation:e.handlePartyConfirmation,handleChangeSscc:e.handleChangeSscc,handleChangeDestination:e.handleChangeDestination,handleChangeReady:e.handleChangeReady});case"Store":return c.a.createElement(P,{goods:e.goodsPerLocation("sgln:4012345.01003.0"),parties:a,activeParty:n,sscc:i,destination:s,status:r,handlePartyConfirmation:e.handlePartyConfirmation,handleChangeSscc:e.handleChangeSscc,handleChangeDestination:e.handleChangeDestination,handleChangeReady:e.handleChangeReady});case"Transportation":return c.a.createElement(x,{goods:e.goodsPerSscc(),status:r,handleTransportConfirmation:e.handleTransportConfirmation,handleChangeReady:e.handleChangeReady});default:return c.a.createElement(g,null)}}()))}}]),t}(n.Component),I=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("footer",{className:"app-footer"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h5",null,"Hacked by Supply Chain ID team @\xa0",c.a.createElement("a",{href:"https://twitter.com/hashtag/SBHACK19",target:"_blank",rel:"noopener noreferrer"},"#SBHACK19"))))))}}]),t}(n.Component);a(23);var _=function(){return c.a.createElement("div",{className:"app"},c.a.createElement(u,null),c.a.createElement(A,null),c.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[17,1,2]]]);
//# sourceMappingURL=main.b70ea897.chunk.js.map